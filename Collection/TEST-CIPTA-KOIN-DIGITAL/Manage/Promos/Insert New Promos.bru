meta {
  name: Insert New Promos
  type: http
  seq: 4
}

post {
  url: {{API_URL}}/manage/promos
  body: json
  auth: bearer
}

headers {
  Origin: {{Origin}}
  Authorization: {{Bearer}}
}

auth:bearer {
  token: {{Bearer}}
}

body:json {
  // // Rewards: DISCOUNT_PERCENTAGE
  // {
  //     "business_id": 1,
  //     "name": "Promo Belanja Besar - Diskon 10%",
  //     "description": "Dapatkan diskon 10% untuk total belanja di atas Rp 500.000.",
  //     "condition_logic": "ALL",
  //     "start_date": "2025-10-01",
  //     "end_date": "2025-10-31",
  //     "is_active": true,
  //     "is_cumulative": false,
  //     "conditions": [
  //         { "condition_type": "TOTAL_PURCHASE", "min_value": 500000 }
  //     ],
  //     "rewards": [
  //         { "reward_type": "DISCOUNT_PERCENTAGE", "value": 10 }
  //     ],
  //     "schedules": [
  //         { "day_of_week": 0, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 1, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 2, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 3, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 4, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 5, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 6, "start_time": "00:00", "end_time": "23:59" }
  //     ]
  //     // "outlet_ids": [1, 2]
  // }
  
  // // Rewards: DISCOUNT_FIXED
  // {
  //     "business_id": 1,
  //     "name": "Promo Minuman Segar",
  //     "description": "Beli 2 minuman apa saja, dapatkan potongan Rp 5.000.",
  //     "condition_logic": "ALL",
  //     "start_date": "2025-10-01",
  //     "end_date": "2025-10-15",
  //     "is_active": true,
  //     "is_cumulative": true,
  //     "conditions": [
  //         { "condition_type": "PRODUCT_CATEGORY", "target_id": 3, "min_quantity": 2 }
  //     ],
  //     "rewards": [
  //         { "reward_type": "DISCOUNT_FIXED", "value": 5000 }
  //     ],
  //     "schedules": [
  //         { "day_of_week": 0, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 1, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 2, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 3, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 4, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 5, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 6, "start_time": "00:00", "end_time": "23:59" }
  //     ]
  //     // "outlet_ids": [1]
  // }
  
  // // Rewards: FREE_VARIANT
  // {
  //     "business_id": 1,
  //     "name": "Beli Kaos Gratis Topi",
  //     "description": "Setiap pembelian Kaos Polo Biru ukuran L, dapatkan Topi Official gratis.",
  //     "condition_logic": "ALL",
  //     "start_date": "2025-10-01",
  //     "end_date": "2025-10-31",
  //     "is_active": true,
  //     "is_cumulative": false,
  //     "conditions": [
  //         { "condition_type": "PRODUCT_VARIANT", "target_id": 7, "min_quantity": 1 }
  //     ],
  //     "rewards": [
  //         { "reward_type": "FREE_VARIANT", "target_id": 7, "quantity": 1 }
  //     ],
  //     "schedules": [
  //         { "day_of_week": 0, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 1, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 2, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 3, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 4, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 5, "start_time": "00:00", "end_time": "23:59" },
  //         { "day_of_week": 6, "start_time": "00:00", "end_time": "23:59" }
  //     ]
  //     // "outlet_ids": [1, 2, 3]
  // }
  
  // Rewards: FREE_RESOURCE
  {
      "business_id": 1,
      "name": "Bonus Paket Pernikahan",
      "description": "Pembelian Paket Pernikahan Lengkap akan mendapatkan bonus sewa Ruang Rias gratis selama 2 jam.",
      "condition_logic": "ALL",
      "start_date": "2025-01-01",
      "end_date": "2025-12-31",
      "is_active": true,
      "is_cumulative": false,
      "conditions": [
          { "condition_type": "PACKAGE", "target_id": 55, "min_quantity": 1 }
      ],
      "rewards": [
          { "reward_type": "FREE_RESOURCE", "target_id": 105, "quantity": 2, "unit_id": 2 }
      ],
      "schedules": [
          { "day_of_week": 0, "start_time": "00:00", "end_time": "23:59" },
          { "day_of_week": 1, "start_time": "00:00", "end_time": "23:59" },
          { "day_of_week": 2, "start_time": "00:00", "end_time": "23:59" },
          { "day_of_week": 3, "start_time": "00:00", "end_time": "23:59" },
          { "day_of_week": 4, "start_time": "00:00", "end_time": "23:59" },
          { "day_of_week": 5, "start_time": "00:00", "end_time": "23:59" },
          { "day_of_week": 6, "start_time": "00:00", "end_time": "23:59" }
      ],
      "outlet_ids": [1]
  }
}

settings {
  encodeUrl: true
}
